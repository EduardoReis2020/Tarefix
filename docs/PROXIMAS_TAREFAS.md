# üöÄ **PR√ìXIMAS TAREFAS - TAREFIX**

> **Tarefas Espec√≠ficas para Implementa√ß√£o Imediata**

---

## üéØ **TAREFAS PRIORIT√ÅRIAS (ESTA SEMANA)**

### **‚ö° TAREFA 1: Completar Dashboard Principal** 
**Prazo**: 2-3 dias | **Prioridade**: üî¥ CR√çTICA

#### **üìã Subtarefas**
- [ ] **1.1** Criar componente `DashboardStats`
  - M√©tricas: Total de tarefas, Conclu√≠das hoje, Pendentes, Vencidas
  - Cards com √≠cones e cores diferenciadas
  - Anima√ß√£o de carregamento

- [ ] **1.2** Melhorar layout do dashboard existente
  - Grid responsivo (1 coluna mobile, 2-3 desktop)
  - Se√ß√£o "Tarefas Recentes" (√∫ltimas 5)
  - Se√ß√£o "Deadlines Pr√≥ximos" (pr√≥ximas 5)
  - Quick Actions: "Nova Tarefa", "Ver Todas"

- [ ] **1.3** Implementar navega√ß√£o
  - Links funcionais para `/dashboard/tasks`
  - Breadcrumbs b√°sicos
  - Menu lateral ou top navigation

**üìÅ Arquivos para modificar:**
- `src/app/dashboard/page.tsx`
- `src/components/dashboard/DashboardStats.tsx` (criar)
- `src/components/dashboard/QuickActions.tsx` (criar)

---

### **‚ö° TAREFA 2: Interface Completa de Tarefas**
**Prazo**: 2-3 dias | **Prioridade**: üî¥ CR√çTICA

#### **üìã Subtarefas**
- [ ] **2.1** Criar p√°gina `/dashboard/tasks`
  - Layout com header, filtros e lista
  - Bot√£o "Nova Tarefa" proeminente
  - Loading skeleton para lista

- [ ] **2.2** Componente `TaskCard` completo
  - Checkbox para marcar como conclu√≠da
  - Display: t√≠tulo, descri√ß√£o (truncada), data, prioridade
  - Badges visuais para status e prioridade
  - Bot√µes de a√ß√£o: editar, deletar
  - Estados visuais diferentes (pending, done, overdue)

- [ ] **2.3** Modal/Drawer para TaskForm
  - Formul√°rio de cria√ß√£o/edi√ß√£o
  - Valida√ß√£o em tempo real
  - Estados de loading durante submit
  - Fechar com ESC ou backdrop click

**üìÅ Arquivos para criar:**
- `src/app/dashboard/tasks/page.tsx`
- `src/components/tasks/TaskCard.tsx`
- `src/components/tasks/TaskList.tsx`
- `src/components/tasks/TaskModal.tsx`

---

### **‚ö° TAREFA 3: Funcionalidades do Frontend**
**Prazo**: 2 dias | **Prioridade**: üü† ALTA

#### **üìã Subtarefas**
- [ ] **3.1** Hook `useTasks` personalizado
  - Fetch, create, update, delete
  - Estados de loading e error
  - Cache local b√°sico
  - Toast notifications

- [ ] **3.2** Integra√ß√£o com API existente
  - Conectar todos os endpoints
  - Tratamento de erros consistente
  - Optimistic updates para UX

- [ ] **3.3** Funcionalidade de toggle status
  - Click no checkbox marca como done
  - Anima√ß√£o de risco na tarefa
  - Undo action (opcional)

**üìÅ Arquivos para criar:**
- `src/hooks/useTasks.ts`
- `src/lib/api.ts` (client API utils)

---

## üé® **TAREFAS SECUND√ÅRIAS (SEMANA 2)**

### **üîç TAREFA 4: Sistema de Filtros**
**Prazo**: 1-2 dias | **Prioridade**: üü° M√âDIA

- [ ] **4.1** Componente `TaskFilters`
  - Filtro por status (dropdown)
  - Filtro por prioridade (checkboxes)
  - Busca por t√≠tulo (input com debounce)
  - Bot√£o "Limpar filtros"

- [ ] **4.2** Estado global de filtros
  - Context ou state local
  - Persistir na URL (query params)
  - Aplicar filtros na API

### **üé® TAREFA 5: Melhorias de UX**
**Prazo**: 1-2 dias | **Prioridade**: üü° M√âDIA

- [ ] **5.1** Loading states
  - Skeleton components
  - Spinners em bot√µes
  - Loading overlay

- [ ] **5.2** Toast notifications
  - Sistema de notifica√ß√µes
  - Success, error, info, warning
  - Auto-dismiss e a√ß√µes

- [ ] **5.3** Empty states
  - Primeira experi√™ncia do usu√°rio
  - Estados sem tarefas
  - CTAs para criar primeira tarefa

---

## üõ†Ô∏è **IMPLEMENTA√á√ÉO PASSO A PASSO**

### **üéØ COME√áAR POR AQUI - Dashboard Stats**

#### **Passo 1**: Criar componente de estat√≠sticas
```typescript
// src/components/dashboard/DashboardStats.tsx
'use client'

import { useEffect, useState } from 'react'
import { Card, CardContent } from '@/components/ui/Card'

interface Stats {
  total: number
  completed: number
  pending: number
  overdue: number
}

export function DashboardStats() {
  const [stats, setStats] = useState<Stats | null>(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    // Buscar estat√≠sticas da API
    fetchStats()
  }, [])

  const fetchStats = async () => {
    try {
      // TODO: Implementar endpoint /api/tasks/stats
      const response = await fetch('/api/tasks/stats')
      const data = await response.json()
      setStats(data)
    } catch (error) {
      console.error('Erro ao buscar estat√≠sticas:', error)
    } finally {
      setLoading(false)
    }
  }

  if (loading) {
    return <div>Carregando estat√≠sticas...</div>
  }

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
      {/* Implementar cards de estat√≠sticas */}
    </div>
  )
}
```

#### **Passo 2**: Adicionar endpoint de estat√≠sticas
```typescript
// src/app/api/tasks/stats/route.ts
import { NextResponse } from 'next/server'
import { auth } from '@clerk/nextjs/server'
import { prisma } from '@/lib/prisma'

export async function GET() {
  try {
    const { userId: clerkUserId } = await auth()
    
    if (!clerkUserId) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })
    }

    const user = await prisma.user.findUnique({
      where: { clerkId: clerkUserId }
    })

    if (!user) {
      return NextResponse.json({ error: 'User not found' }, { status: 404 })
    }

    // Buscar estat√≠sticas agregadas
    const [total, completed, pending, overdue] = await Promise.all([
      prisma.task.count({ where: { userId: user.id } }),
      prisma.task.count({ where: { userId: user.id, status: 'DONE' } }),
      prisma.task.count({ where: { userId: user.id, status: 'PENDING' } }),
      prisma.task.count({ 
        where: { 
          userId: user.id, 
          status: { not: 'DONE' },
          dueDate: { lt: new Date() }
        } 
      })
    ])

    return NextResponse.json({
      total,
      completed,
      pending,
      overdue
    })
  } catch (error) {
    console.error('Error fetching stats:', error)
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 })
  }
}
```

#### **Passo 3**: Integrar no dashboard
```typescript
// src/app/dashboard/page.tsx - adicionar ao componente existente
import { DashboardStats } from '@/components/dashboard/DashboardStats'

export default function DashboardPage() {
  // ... c√≥digo existente

  return (
    <div className="container mx-auto px-6 py-8">
      <h1 className="text-3xl font-bold mb-8">Dashboard</h1>
      
      {/* Novo componente de estat√≠sticas */}
      <DashboardStats />
      
      {/* Resto do dashboard existente */}
      {/* ... */}
    </div>
  )
}
```

---

### **üéØ SEGUNDA PRIORIDADE - TaskCard Component**

#### **Modelo do TaskCard**
```typescript
// src/components/tasks/TaskCard.tsx
'use client'

import { Card, CardContent } from '@/components/ui/Card'
import { Button } from '@/components/ui/Button'
import { formatDate } from '@/lib/utils'

interface Task {
  id: string
  title: string
  description: string | null
  dueDate: string | null
  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT'
  status: 'PENDING' | 'IN_PROGRESS' | 'DONE' | 'OVERDUE'
  createdAt: string
}

interface TaskCardProps {
  task: Task
  onToggleStatus: (id: string) => void
  onEdit: (task: Task) => void
  onDelete: (id: string) => void
}

export function TaskCard({ task, onToggleStatus, onEdit, onDelete }: TaskCardProps) {
  const isCompleted = task.status === 'DONE'
  const isOverdue = task.status === 'OVERDUE'
  
  return (
    <Card className={`transition-all ${isCompleted ? 'opacity-70' : ''} ${isOverdue ? 'border-red-200' : ''}`}>
      <CardContent className="p-4">
        <div className="flex items-start space-x-3">
          {/* Checkbox */}
          <input
            type="checkbox"
            checked={isCompleted}
            onChange={() => onToggleStatus(task.id)}
            className="mt-1 h-4 w-4 rounded border-gray-300"
          />
          
          <div className="flex-1 min-w-0">
            {/* T√≠tulo */}
            <h3 className={`font-medium ${isCompleted ? 'line-through text-gray-500' : 'text-gray-900'}`}>
              {task.title}
            </h3>
            
            {/* Descri√ß√£o */}
            {task.description && (
              <p className="text-sm text-gray-600 mt-1 line-clamp-2">
                {task.description}
              </p>
            )}
            
            {/* Metadata */}
            <div className="flex items-center justify-between mt-3">
              <div className="flex items-center space-x-2">
                {/* Badge de Prioridade */}
                <span className={`px-2 py-1 text-xs font-medium rounded-full ${getPriorityStyles(task.priority)}`}>
                  {task.priority}
                </span>
                
                {/* Data de vencimento */}
                {task.dueDate && (
                  <span className={`text-xs ${isOverdue ? 'text-red-600' : 'text-gray-500'}`}>
                    {formatDate(task.dueDate)}
                  </span>
                )}
              </div>
              
              {/* A√ß√µes */}
              <div className="flex space-x-1">
                <Button
                  size="sm"
                  variant="ghost"
                  onClick={() => onEdit(task)}
                >
                  Editar
                </Button>
                <Button
                  size="sm"
                  variant="ghost"
                  onClick={() => onDelete(task.id)}
                  className="text-red-600 hover:text-red-700"
                >
                  Deletar
                </Button>
              </div>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>
  )
}

function getPriorityStyles(priority: string) {
  switch (priority) {
    case 'URGENT': return 'bg-red-100 text-red-800'
    case 'HIGH': return 'bg-orange-100 text-orange-800'
    case 'MEDIUM': return 'bg-yellow-100 text-yellow-800'
    case 'LOW': return 'bg-green-100 text-green-800'
    default: return 'bg-gray-100 text-gray-800'
  }
}
```

---

## üìã **CHECKLIST DE VERIFICA√á√ÉO**

### **‚úÖ Antes de Implementar Cada Tarefa**
- [ ] Leia os templates de c√≥digo fornecidos
- [ ] Entenda a estrutura atual do projeto
- [ ] Identifique depend√™ncias entre tarefas
- [ ] Prepare os dados/APIs necess√°rios

### **‚úÖ Durante a Implementa√ß√£o**
- [ ] Siga os padr√µes de nomenclatura
- [ ] Implemente TypeScript sem `any`
- [ ] Adicione tratamento de erro
- [ ] Teste responsividade
- [ ] Fa√ßa commits frequentes com mensagens claras

### **‚úÖ Ap√≥s Cada Implementa√ß√£o**
- [ ] Teste a funcionalidade manualmente
- [ ] Verifique console por erros
- [ ] Teste em mobile e desktop
- [ ] Documente mudan√ßas significativas

---

## üéØ **FOCO DESTA SEMANA**

### **üî• Objetivo Principal**
Ter um **MVP funcional** do dashboard com:
- ‚úÖ Estat√≠sticas b√°sicas
- ‚úÖ Lista de tarefas interativa
- ‚úÖ CRUD completo funcionando
- ‚úÖ Interface responsiva e polida

### **üìä M√©tricas de Sucesso**
- Dashboard carrega em < 2s
- Todas as a√ß√µes de tarefa funcionam
- Interface responsiva em mobile
- Zero erros no console
- C√≥digo organizado e documentado

### **üöÄ Pr√≥ximo Marco**
**Ao final desta semana**: Demonstrar aplica√ß√£o funcional para usu√°rios beta e coletar feedback inicial.

---

**üéØ DICA**: Comece sempre pelas funcionalidades mais cr√≠ticas (Dashboard Stats ‚Üí TaskCard ‚Üí CRUD Integration). N√£o se preocupe com perfei√ß√£o inicial - foque em fazer funcionar primeiro, otimizar depois!

*Arquivo atualizado conforme progresso do desenvolvimento*  
*√öltima atualiza√ß√£o: 25/09/2025*